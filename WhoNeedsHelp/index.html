<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Hvem behøver hjælp</title>
    <link rel="stylesheet" href="Content/bootstrap.min.css"/>
    <!--Script references. -->
    <!--Reference the jQuery library. -->
    <script src="Scripts/jquery-1.10.2.min.js"></script>
    <!--Reference the Bootstrap jquery library-->
    <script src="Scripts/bootstrap.min.js"></script>
    <!--Reference the SignalR library. -->
    <script src="Scripts/jquery.signalR-2.1.2.min.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="signalr/hubs"></script>
</head>
<body>
<div class="container">
    <div class="modal fade" id="usernameModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Navn</h4>
                </div>
                <div class="modal-body">
                    <form class="has-feedback" id="modalForm">
                        <div class="form-group" id="usernameGroup">
                            <label for="usernameModal"></label>
                            <input type="text" class="form-control" id="usernameModalInput" onkeyup="validate()" />
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-primary">Start</button>
                        </div>
                    </form>
                </div>
            </div> <!--</modal-content>-->
        </div> <!--</modal-dialog>-->
    </div> <!--</modal>-->
    <!--Script to handle the above modal-->
    <script type="text/javascript">
        "use strict";
        var patt = /[\w][\w ]+[\w]/;
        $(document).ready(function () {
            $("#usernameModal").modal("show");
        });
        $("#modalForm").submit(function() {
            var input = $("#usernameModalInput");
            var name = input.val();
            console.log(name);
            name = name.replace(/[\s]+/g, " ");
            console.log(name);
            var n = name.match(patt);
            console.log(n[0]);
            $("#usernameModal").modal("hide");
            return false;
        });
        function validate() {
            var t = $("#usernameModalInput").val();
            console.log(t);
            if (patt.test(t)) {
                $("#usernameGroup").addClass("has-success").removeClass("has-error");
            } else {
                $("#usernameGroup").addClass("has-error").removeClass("has-success");
            }
        }
    </script>


    <div class="row">
        <!--Put all userinformation here.
        Userid
        People in that specific channel
        -->
    </div>
    <div class="row">
        <div class="col-md-3">
            <!--Put some additional channel selection here-->
            <!--First list current "channels"-->
            <!--Next have a "Create new channel" thingy-->
            <!--Have a join hidden channel bar-->
            <!--Have a search par thing for channels-->
        </div>
        <div class="col-md-6">
            <!--Have a table with the current list of people-->
            <div id="HelpList">
                <!--Help panels will appear here-->
            </div>
            <!--<div class="panel panel-primary">
                <div class="panel-heading">
                    <h3 class="panel-title">Some username</h3>
                </div>
                <div class="panel-body">
                    Some extra question
                </div>
            </div>-->
            <!--Have a button that says "Request help"
            Update said button to say "awaiting help" when a help
            request is in the list.
            Also a "Cancel request" button-->
            <form class="form-inline" id="requestHelpForm">
                <div class="form-group">
                    <label for="question"></label>
                    <input type="text" name="question" id="question" placeholder="Spørgsmål - er valgtfrit" class="form-control"/>
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-default">Efterspørg hjælp</button>
                </div>
            </form>
            <!--Script to handle the above form-->
            <script type="text/javascript">
                "use strict";
                $("#requestHelpForm").submit(function () {
                    return false;
                });
            </script>
        </div>
        <div class="col-md-3">
            <!--Put some chat function thingy here-->
            <!--Chat channel should follow help channel-->
        </div>
    </div>
    <footer>&copy; Rasmus Hansen 2015</footer>
</div>



<!--Add script to update the page and send messages.-->
<script type="text/javascript" src="helper.js"></script>
</body>
</html>
